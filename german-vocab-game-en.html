<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>German Vocab Game</title>
	<meta charset="utf-8">
	<meta name="description" content="This is a German vocabulary app inspired 
	by the WillowTree name game app. WillowTree provides the name game app 
	as a test project for potential employees of WillowTree. " />
	<link rel="schema.dcterms" href="http://purl.org/dc/terms/">
	<meta name="dcterms.modified" content="2019-6-7" />
	<meta name="author" content="Brendan Ferreri-Hanberry" />
	<meta name="viewport" content="initial-scale=1.0, width=device-width" />
	<!-- Libraries -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js"></script>
	<script crossorigin src="https://unpkg.com/react@16.8.6/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16.8.6/umd/react-dom.production.min.js"></script>
	<!-- Stylesheet -->
	<link href="styles/wta-vocab-game-styles.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link rel="icon" href="favicon-best.ico" type="image/x-icon" />
	<!-- Google font pair -->
	<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:700i|Fira+Sans" rel="stylesheet">
	<!-- References to versions of the page in different languages -->
	<link rel="alternate" href="german-vocab-game-en.html" hreflang="en">
	<link rel="alternate" href="german-vocab-game-de.html" hreflang="de">
</head>

<body>
<script>
var newImage = function(){
	$.get('German-vocab-API1-text.txt').then(function(data) {
		result = data;
		console.log("Data is", typeof data);
		if (result) {
			console.log("Result is", typeof result);
			result = JSON.parse(result);
			console.log("Now result is", typeof result);
			<!--Make a single selection-->
			selection = _(result.vocab).shuffle().first(1);
			console.log(selection);
			$("#image img").attr("src", selection.image).attr("alt", selection.English);
			$("#english-term").html(selection.English);
			$(".word.first").html(selection.article + " " + selection.German);
			$(".plural.first").html(selection.plural);
		}
		else {
			$("#prompt").html("Error! Call to API failed.");
		}
	})
};
var genderImage = function(gender){
	$.get('German-vocab-API1-text.txt').then(function(data) {
		result = data;
		console.log("Data is", typeof data);
		if (result) {
			console.log("Result is", typeof result);
			result = JSON.parse(result);
			console.log("Now result is", typeof result);
			<!--Make a single selection-->
			if (gender == "masculine") {
				selection = _(result.vocab).filter(function(term){
					return term.article == "der";
			})
			.shuffle().first(1);
			}
			else if (gender == "feminine") {
				selection = _(result.vocab).filter(function(term){
					return term.article == "die";
			})
			.shuffle().first(1);
			}
		    else if (gender == "neuter") {
				selection = _(result.vocab).filter(function(term){
					return term.article == "das";
			})
			.shuffle().first(1);
			}
			console.log(selection);
			$("#image img").attr("src", selection.image).attr("alt", selection.English);
			$("#english-term").html(selection.English);
			$(".word.first").html(selection.article + " " + selection.German);
			$(".plural.first").html(selection.plural);
		}
		else {
			$("#prompt").html("Error! Call to API failed.");
		}
	})
};
$(document).ready(newImage);
</script>
<div>
<h1 id="page-heading">German Vocab Game</h1>
</div>

<div class="left">
    <ul>
		<li><button onclick="newImage()">Random word</a></button></li>
		<li><button onclick="genderImage('masculine')"}>Masculine only</button></li>
		<li><button onclick="genderImage('feminine')">Feminine only</button></li>
		<li><button onclick="genderImage('neuter')">Neuter only</button></li>
    </ul>
</div>

<div class="right">
    <button><a href="german-vocab-game-de.html" hreflang="de">Deutsch</a></button>
</div>

<div id="question-wrapper">
<!-- The word after "how do you say" will be replaced with the appropriate English noun.
 This will be replaced by success and failure messages 
 in response to user choices from the list of German nouns.  -->
    <h1 id="prompt">How do you say "<span id="english-term">cat</span>" in German?</h1>
</div>
<div class="left">
    <div id="image"><img src="https://i.imgur.com/WRM5YzU.jpg" alt="cat"/></div>
</div>
<div class="right">
    <div id="singular" class="left">
	<h2>Singular</h2>
	Five German nouns in the singular will go here.
		<div class="word first">die Katze</div>
		<div class="word">das Reh</div>
		<div class="word">die Raupe</div>
		<div class="word">der Schildkröte</div>
		<div class="word">der Bach</div>
	</div>
	<div id="plural" class="right">
	<h2>Plural</h2>
	Five German nouns in the plural will go here.
		<div class="plural first">Katzen</div>
		<div class="plural">Rehe</div>
		<div class="plural">Raupen</div>
		<div class="plural">Schildkröten</div>
		<div class="plural">Bächer</div>
	</div>
</div>
<footer>&copy; 2019 Brendan Ferreri-Hanberry 
    | <a href="mailto:brendanfh@protonmail.com">Contact me</a> 
	| <a href="https://bdferr.github.io">Homepage</a>
</footer>
</body>
</html>